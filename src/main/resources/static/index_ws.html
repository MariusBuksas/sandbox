<!DOCTYPE html>
<html>
<head>
<title>HHelper</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="js/sockjs-0.3.4.js"></script>
<script src="js/stomp.js"></script>

<script type="text/javascript" src="/webjars/angularjs/1.5.7/angular.min.js"></script>
<script type="text/javascript" src="/webjars/angularjs/1.5.7/angular-resource.min.js"></script>
<script type="text/javascript" src="/webjars/angularjs/1.5.7/angular-route.min.js"></script>
<script type="text/javascript" src="/webjars/angularjs/1.5.7/angular-animate.min.js"></script>
<script type="text/javascript" src="/webjars/angularjs/1.5.7/angular-aria.min.js"></script>
<script type="text/javascript" src="/webjars/angularjs/1.5.7/angular-messages.min.js"></script>

<script type="text/javascript" src="/webjars/angular-material/1.1.0/angular-material.min.js"></script>
<script type="text/javascript" src="js/app.js"></script>
<script type="text/javascript" src="js/controller.js"></script>

<link rel="stylesheet" href="css/app.css">
<link rel="stylesheet" href="/webjars/angular-material/1.1.0/angular-material.min.css">
<link rel="stylesheet" href="/webjars/angular-material/1.1.0/layouts/angular-material.layouts.css">
</head>
<body ng-app="hh_app">
	<div ng-controller="hh_controller" ng-cloak>
		<md-content>
		<section layout="row" layout-sm="column" layout-align="center center" layout-wrap="">
			<md-button class="md-raised" ng-click="connect()">connect</md-button>
			<md-button class="md-raised" ng-click="disconnect()">disconnect</md-button>
			<md-button class="md-raised" ng-click="test()">test</md-button>
		</section>
		<section layout="row" layout-sm="column" layout-align="center center" layout-wrap="">
			<div layout="column" layout-gt-xs="row">
				<md-card flex ng-repeat="e in enemies"> 
					<md-card-content> 
						<md-input-container class="md-block">
				          <input ng-model="e.name" aria-label="Name">
				          <md-button class="md-raised" ng-click="update($index)">update</md-button>
				        </md-input-container>
						<md-list-item class="md-2-line">
						<div class="md-list-item-text">
							<p>Id: {{e.id}}</p>
							<p>MMR: {{e.mmr}}</p>
							<p>Games: {{e.numberOfGames}}</p>
							<p>Hits: {{e.numberOfMatches}}</p>
						</div>
						</md-list-item> 
						<md-divider></md-divider>
						<md-list-item class="md-2-line">
						<div class="md-list-item-text">
							<table>
								<tr>
									<td>Hero</td>
									<td>Lvl</td>
									<td>play%</td>
									<td>win%</td>
									<td>#</td>
								</tr>
								<tr ng-repeat="s in e.statistics">
									<td>{{s.hero}}</td>
									<td>{{s.lvl}}</td>
									<td>{{s.percentage.substr(0, s.percentage.indexOf('.'))}}%</td>
									<td>{{s.winrate.substr(0, s.winrate.indexOf('.'))}}%</td>
									<td>{{s.number}}</td>
								</tr>
							<table>
						</div>
						</md-list-item> 
						<md-divider></md-divider>
						<md-list-item class="md-2-line">
						<div class="md-list-item-text">
						<table>
							<tr ng-repeat="n in e.matches | limitTo:50" ng-class='{historywin : n.win, historylose: !n.win}'>
								<td>{{n.date.substr(0, n.date.indexOf(' '))}}</td>
								<td>{{n.hero}}</td>
							</tr>
						</table>
						</div>
						<md-divider></md-divider>
						</md-list-item> 
					</md-card-content> 
				</md-card>
			</div>
		</section>
		
		</md-content>
	</div>


</body>
</html>